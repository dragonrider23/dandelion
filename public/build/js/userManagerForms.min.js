"use strict";userManager.uiforms={add:function(){var t=null;$.ajax("api/i/rights/getlist",{async:!1,dataType:"json"}).done(function(e){0===e.errorcode?t=e.data:alert(e.status)});var e=$("<table/>");e.append('<tr><td>Username:</td><td><input type="text" id="add_user" autocomplete="off"></td></tr>'),e.append('<tr><td>Password:</td><td><input type="password" id="add_pass"></td></tr>'),e.append('<tr><td>Real Name:</td><td><input type="text" id="add_fullname" autocomplete="off"></td></tr>');var a=$("<tr/>");a.append("<td>Role:</td>");var d=$("<td/>"),o=$("<select/>").attr("id","add_group");o.append('<option value="0">Select:</option>');for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];o.append('<option value="'+r.role+'">'+r.role+"</option>")}d.append(o),a.append(d),e.append(a),this.showDialogBox("add",e,{title:"Add new user",buttonText1:"Add"})},edit:function(){var t=null,e=null,a=null;$.ajax("api/i/users/getuserinfo",{async:!1,dataType:"json",data:{uid:userManager.currentuid}}).done(function(e){0===e.errorcode?t=e.data:alert(e.status)}),$.ajax("api/i/rights/getlist",{async:!1,dataType:"json"}).done(function(t){0===t.errorcode?e=t.data:alert(t.status)}),$.ajax("api/i/usersettings/getthemelist",{async:!1,dataType:"json"}).done(function(t){0===t.errorcode?a=t.data:alert(t.status)});var d=$("<table/>");d.append('<tr><td>User ID:</td><td><input type="text" id="edit_uid" value="'+t.userid+'" readonly></td></tr>'),d.append('<tr><td>Real Name:</td><td><input type="text" id="edit_fullname" value="'+t.realname+'" autocomplete="off"></td></tr>');var o=$("<tr/>");o.append("<td>Role:</td>");var n=$("<td/>"),r=$("<select/>").attr("id","edit_group");for(var i in e)if(e.hasOwnProperty(i)){var p=e[i],s="";p.role==t.role&&(s="selected"),r.append('<option value="'+p.role+'" '+s+">"+p.role+"</option>")}n.append(r),o.append(n),d.append(o);var u=$("<tr/>");u.append("<td>Theme:</td>");var l=$("<td/>"),f=$("<select/>").attr("id","edit_theme");f.append(""===t.theme?'<option value="" selected>Default</option>':'<option value="">Default</option>');for(var c in a)if(a.hasOwnProperty(c)){var h=a[c],v="";h==t.theme&&(v="selected"),f.append('<option value="'+h+'" '+v+">"+h+"</option>")}l.append(f),u.append(l),d.append(u),d.append('<tr><td>Date Created:</td><td><input type="text" value="'+t.datecreated+'" readonly></td></tr>'),d.append('<tr><td>Prompt:</td><td><input type="text" id="edit_prompt" value="'+t.firsttime+'"></td></tr>'),this.showDialogBox("edit",d,{title:"Edit user",buttonText1:"Save",height:330})},"delete":function(){var t="Are you sure you want to delete user?";this.showDialogBox("delete",t,{buttonText1:"Yes",buttonText2:"No"})},reset:function(){var t='<table>                            <tr><td>New Password:</td><td><input type="password" id="pass1"></td></tr>                            <tr><td>Repeat Password:</td><td><input type="password" id="pass2"></td></tr>                        </table>';this.showDialogBox("reset",t,{buttonText1:"Reset"})},cxeesto:function(){var t=null;$.ajax("api/i/cheesto/read",{async:!1,dataType:"json",data:{uid:userManager.currentuid}}).done(function(e){0===e.errorcode?t=e:alert(e.status)});var e=$("<table/>");e.append('<tr><td>User ID:</td><td><input type="text" id="status_uid" value="'+t.data.uid+'" readonly></td></tr>'),e.append('<tr><td>Name:</td><td><input type="text" id="status_name" value="'+t.data.realname+'" readonly></td></tr>');var a=$("<tr/>");a.append("<td>Status:</td>");var d=$("<td/>"),o=$("<select/>").attr("id","status_text");o.append('<option value="-1">Set Status:</option>');for(var n in t.data.statusOptions)o.append("<option>"+t.data.statusOptions[n]+"</option>");d.append(o),a.append(d),e.append(a),e.append('<tr><td>Message:</td><td><textarea cols="30" rows="5" id="status_message">'+t.data.message+"</textarea></td></tr>"),e.append('<tr><td>Return:</td><td><input type="text" id="status_return" value="'+t.data.returntime+'"></td></tr>'),$("#status_return").datetimepicker({timeFormat:"HH:mm",controlType:"select",stepMinute:10}),this.showDialogBox("cxeesto",e,{title:"Set User Status",height:380,width:515,buttonText1:"Save"})},revokeKey:function(){var t="Are you sure you want to revoke the API key for user?";this.showDialogBox("revokeKey",t,{buttonText1:"Yes",buttonText2:"No"})},showDialogBox:function(t,e,a){"undefined"==typeof a&&(a={}),"undefined"==typeof a.height&&(a.height=300),"undefined"==typeof a.width&&(a.width=450),"undefined"==typeof a.title&&(a.title=""),"undefined"==typeof a.buttonText1&&(a.buttonText1="Okay"),"undefined"==typeof a.buttonText2&&(a.buttonText2="Cancel");var d={};d[a.buttonText1]=function(){$(this).dialog("close"),userManager[t]()},d[a.buttonText2]=function(){$(this).dialog("close")};var o=$("#dialogBox");o.empty(),o.append(e),o.attr("title",a.title),o.dialog({height:a.height,width:a.width,modal:!0,show:{effect:"fade",duration:500},hide:{effect:"fade",duration:250},buttons:d})}};
//# sourceMappingURL=maps/userManagerForms.min.js.map